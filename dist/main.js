(()=>{"use strict";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};e.d({},{yr:()=>w,U9:()=>E,ro:()=>q});const n="4LWKKC37PQN38RC3D64Q5NU3B";function t(e){return e.includes("Rain")||e.includes("cloudy")||e.includes("Rain")?"rainy.svg":e.includes("cloudy")?"cloudy.svg":e.includes("Clear")?"sun.svg":e.includes("Snow")?"snow.svg":e.includes("Fog")?"mist.svg":"rainy.svg"}document.getElementById("form");const o=document.querySelector(".locationIcon"),r=document.querySelector(".searchIn"),c=(document.querySelector(".submitBtn"),document.querySelector(".cityName")),i=document.querySelector(".date"),s=document.getElementById("tempRow"),d=s.querySelector(".tempIcon"),l=s.querySelector(".temp"),u=s.querySelector(".switchBtn"),a=document.querySelector(".otherData ul"),y=a.children[0].querySelector("strong"),m=a.children[1].querySelector("strong"),g=a.children[2].querySelector("strong"),L=document.getElementById("descritptionText"),f=document.querySelector(".sunrise"),T=document.querySelector(".sunset"),M=document.getElementById("myLocationSpace"),v=document.getElementById("myLocationIcon"),h=document.querySelector(".otherDays"),S=(document.querySelector(".day"),document.querySelectorAll(".dayTemp"),document.querySelector(".fullAddress")),H=document.querySelector(".TimeZone");async function p(e){const o=await async function(e){try{q();const t=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}?key=${n}`),o=await t.json();return w(),o}catch(e){E("City not found"),console.log("error found"),w()}}(e),r=o.days[0],s=o.days;console.log(r),function(e){M.style.display="none";const n=Math.floor(e.feelslike),r=e.windspeed,a=e.humidity,v=Math.floor(e.temp),p=(e.resolvedAddress,e.conditions),b=o.currentConditions.datetime,q=(e.snow,o.resolvedAddress),w=(o.description,e.sunrise),$=e.sunset;c.innerHTML=o.address,l.innerHTML=`${v}°F`,L.innerHTML=p,H.innerHTML=b,f.innerHTML=w,T.innerHTML=$,S.innerHTML=q,d.src=`../src/img/svg/${t(o.currentConditions.icon)}`,m.innerHTML=`${r}%`,y.innerHTML=`${n}°`,g.innerHTML=`${a} km/h`;const E=(new Date).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"});i.innerHTML=E;const k=function(e){let n=5*(e-32)/9;return Math.floor(n)};function I(e){h.innerHTML="";for(let o=1;o<7;o++){const r=e?k(s[o].temp):Math.floor(s[o].temp),c=e?"°C":"°F";h.innerHTML+=`\n                <div class="day">\n                    <h6>${n=s[o].datetime,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(n).getDay()]}</h6>\n                    <img src="../src/img/svg/${t(s[o].conditions)}" alt="">\n                    <h5 class="dayTemp">${r}${c}</h5>\n                </div>`}var n}function B(){h.innerHTML="",I(!1)}B();let C=!0;u.addEventListener("click",(()=>{C?(function(e,t){const o=`${k(v)}°C`;e.innerHTML=o,t.innerHTML=`${k(n)}°`}(l,y),u.innerHTML="°F",h.innerHTML="",I(!0)):(l.innerHTML=`${v}°F`,y.innerHTML=`${n}°`,u.innerHTML="°C",h.innerHTML="",B()),C=!C}))}(r)}document.getElementById("form").addEventListener("submit",(e=>{e.preventDefault();const n=r.value;console.log(n),p(n)}));const b=document.getElementById("loader");function q(){b.style.display="block"}function w(){b.style.display="none"}function $(){navigator.geolocation.getCurrentPosition((e=>{let t=e.coords.latitude,o=e.coords.longitude;return console.log(t,o),async function(e,t){const o=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e},${t}?key=${n}`;try{const e=await fetch(o),n=await e.json(),t=n.timezone.split("/")[1];return document.querySelector(".cityName").innerHTML=t,n}catch(e){console.log("Permission not given"),document.getElementById("infoDown").innerHTML=""}}(t,o)}))}function E(e){c.innerHTML=e,i.innerHTML="",L.innerHTML=""}o.addEventListener("click",(()=>{$(),p($())})),v.addEventListener("click",(()=>{$()})),p($()),function(){const e=document.getElementById("themeIcon");document.getElementsByTagName("footer");let n=!0;e.addEventListener("click",(()=>{n?(document.body.style.background="rgb(27,48,50)",document.body.style.background="linear-gradient(0deg, rgba(27,48,50,1) 0%, rgba(42,105,150,1) 100%)",e.classList.replace("fa-moon","fa-sun")):(e.classList.replace("fa-sun","fa-moon"),document.body.style.background="rgb(45,234,253)",document.body.style.background="linear-gradient(0deg, rgba(45,234,253,1) 0%, rgba(34,127,195,1) 100%)"),n=!n}))}()})();