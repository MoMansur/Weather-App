(()=>{"use strict";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};e.d({},{y:()=>$,r:()=>w});const n="4LWKKC37PQN38RC3D64Q5NU3B";async function t(e,t){const o=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e},${t}?key=${n}`;try{const e=await fetch(o),n=await e.json(),t=n.timezone.split("/")[1];return document.querySelector(".cityName").innerHTML=t,console.log(t),n}catch(e){console.log("Permission not given"),document.getElementById("infoDown").innerHTML=""}}function o(e){return e.includes("Rain")||e.includes("Cloudy")||e.includes("Rain")?"rainy.svg":e.includes("cloudy")?"cloudy.svg":e.includes("Clear")?"sun.svg":e.includes("Snow")?"snow.svg":e.includes("Fog")?"mist.svg":"rainy.svg"}document.getElementById("form");const r=document.querySelector(".locationIcon"),c=document.querySelector(".searchIn"),i=(document.querySelector(".submitBtn"),document.querySelector(".cityName")),s=document.querySelector(".date"),d=document.getElementById("tempRow"),l=d.querySelector(".tempIcon"),a=d.querySelector(".temp"),u=d.querySelector(".switchBtn"),y=document.querySelector(".otherData ul"),m=y.children[0].querySelector("strong"),g=y.children[1].querySelector("strong"),L=y.children[2].querySelector("strong"),f=document.getElementById("descritptionText"),T=document.querySelector(".sunrise"),v=document.querySelector(".sunset"),M=document.getElementById("myLocationSpace"),h=document.getElementById("myLocationIcon"),S=document.querySelector(".otherDays"),p=(document.querySelector(".day"),document.querySelectorAll(".dayTemp"),document.querySelector(".fullAddress")),H=document.querySelector(".TimeZone"),b=document.getElementById("loader");async function q(e){const t=await async function(e){try{w();const t=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}?key=${n}`),o=await t.json();return $(),o}catch(e){console.log("error found"),$()}}(e),r=t.days[0],c=t.days;console.log(r),function(e){M.style.display="none";const n=Math.floor(e.feelslike),r=e.windspeed,d=e.humidity,y=Math.floor(e.temp),h=(e.resolvedAddress,e.conditions),b=t.currentConditions.datetime,q=(e.snow,t.resolvedAddress),w=(t.description,e.sunrise),$=e.sunset;i.innerHTML=t.address,a.innerHTML=`${y}°F`,f.innerHTML=h,H.innerHTML=b,T.innerHTML=w,v.innerHTML=$,p.innerHTML=q,l.src=`../src/img/svg/${o(t.currentConditions.icon)}`,g.innerHTML=`${r}%`,m.innerHTML=`${n}°`,L.innerHTML=`${d} km/h`;const k=(new Date).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"});s.innerHTML=k;const E=function(e){let n=5*(e-32)/9;return Math.floor(n)};function I(e){S.innerHTML="";for(let t=1;t<7;t++){const r=e?E(c[t].temp):Math.floor(c[t].temp),i=e?"°C":"°F";S.innerHTML+=`\n                <div class="day">\n                    <h6>${n=c[t].datetime,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(n).getDay()]}</h6>\n                    <img src="../src/img/svg/${o(c[t].conditions)}" alt="">\n                    <h5 class="dayTemp">${r}${i}</h5>\n                </div>`}var n}function B(){S.innerHTML="",I(!1)}B();let C=!0;u.addEventListener("click",(()=>{C?(function(e,t){const o=`${E(y)}°C`;e.innerHTML=o,t.innerHTML=`${E(n)}°`}(a,m),u.innerHTML="°F",S.innerHTML="",I(!0)):(a.innerHTML=`${y}°F`,m.innerHTML=`${n}°`,u.innerHTML="°C",S.innerHTML="",B()),C=!C}))}(r)}function w(){b.style.display="block"}function $(){b.style.display="none"}function k(){navigator.geolocation.getCurrentPosition((e=>{let n=e.coords.latitude,o=e.coords.longitude;return console.log(n,o),t(n,o)}))}document.getElementById("form").addEventListener("submit",(e=>{e.preventDefault();const n=c.value;console.log(n),q(n)})),r.addEventListener("click",(()=>{k(),q(k())})),h.addEventListener("click",(()=>{k(),q(k())})),t(),$(),i.innerHTML="Permission not granted",i.style.fontSize="35px",l.style.display="none",function(){const e=document.getElementById("themeIcon");let n=!0;e.addEventListener("click",(()=>{n?(document.body.style.background="rgb(27,48,50)",document.body.style.background="linear-gradient(0deg, rgba(27,48,50,1) 0%, rgba(42,105,150,1) 100%)",e.classList.replace("fa-moon","fa-sun")):(e.classList.replace("fa-sun","fa-moon"),document.body.style.background="rgb(45,234,253)",document.body.style.background="linear-gradient(0deg, rgba(45,234,253,1) 0%, rgba(34,127,195,1) 100%)"),n=!n}))}()})();